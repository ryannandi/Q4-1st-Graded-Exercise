<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Andi Lakip">
  <meta name="description" content="This webpage is used to get participants to sing Happy Birthday">
  <meta name="keywords" content="">
  <title>Participants</title>

  <!-- Load W3.CSS for predefined styling classes -->
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

  <!-- Link to local CSS file for custom styles -->
  <link href="style.css" rel="stylesheet" type="text/css" />

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
</head>

<body class="w3-container w3-auto">

  <!-- Navigation Bar -->
  <div class="w3-bar w3-black">
    <a href="/" class="w3-bar-item w3-button w3-mobile">Home</a>
    <a href="/happy" class="w3-bar-item w3-button w3-mobile">Happy</a>
  </div>

  <!-- Page Header -->
  <header class="w3-container" id="header">
    <h1>Andi Lakip - 9Mg - May 2025</h1>
    <h2>Birthday</h2>
  </header>

  <!-- Form Section -->
  <section class="w3-container" id="input">
    <h2>Input</h2>

    <!-- Form submission confirmation for submit and reset -->
    <form id="input_form" method="POST" action="/happy"
      onsubmit="return confirm('Sure to Submit')"
      onreset="return confirm('Sure to Reset')">

      <div class="w3-row">
        <!-- Nickname and Gender Inputs -->
        <div class="w3-third w3-panel w3-card w3-margin">
          <label for="name">Your nickname:</label><br />
          <input class="w3-input" type="text" id="name" name="name" required><br>

          <label for="gender">Gender:</label><br>
          <input class="w3-radio" type="radio" id="male" name="gender" value="male" required>
          <label for="male">Male</label><br>
          <input class="w3-radio w3-margin-bottom" type="radio" id="female" name="gender" value="female" required>
          <label for="female">Female</label>
        </div>

        <!-- Guest Count and Dynamic Fields -->
        <div class="w3-panel w3-third w3-card w3-margin w3-padding">
          <label for="number">Number of close family and friends:</label><br>
          <select class="w3-select w3-border" id="number" name="number" onchange="generateGuestFields()" required>
            <option value="">--Please choose a number--</option>
            <!-- Dynamically generate options 1 to 16 -->
            <script>
              for (let i = 1; i <= 16; i++) {
                document.write(`<option value="${i}"> ${i} </option>`);
              }
            </script>
          </select><br>

          <!-- Dynamic input container for guest details -->
          <div id="guests"></div>

          <!-- Submit and Reset Buttons -->
          <input class="w3-button w3-black w3-margin" type="submit" value="Submit">
          <input class="w3-button w3-black w3-margin" type="reset" value="Reset">
        </div>
      </div>
    </form>
  </section>

  <!-- Footer -->
  <footer class="w3-container">
    <p>&copy; 2025 Andi Lakip</p>
    <b>References:</b>
    <p>ALVARADO, Miguel Luis S.</p>
    <p>Express 5.X - API Reference. (n.d.). https://expressjs.com/en/api.html</p>
    <p>GeeksforGeeks. (2025, March 12). Express res.render() function. https://www.geeksforgeeks.org/express-js-res-render-function/</p>
  </footer>

  <!-- Script for dynamically generating guest fields -->
  <script>
    function generateGuestFields() {
      const num = document.getElementById('number').value;
      const container = document.getElementById('guests');
      container.innerHTML = 'Enter the name(s) of your invitees:<br>';

      for (let i = 0; i < num; i++) {
        // Create text input for guest name
        const input = document.createElement('input');
        input.type = 'text';
        input.name = 'name' + (i + 1);
        input.className = 'inputBox';
        container.appendChild(input);

        // Create checkbox for RSVP status
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.id = 'checkbox' + (i + 1);
        checkbox.name = 'checkbox' + (i + 1);
        checkbox.className = 'w3-check w3-margin-left w3-margin-right w3-margin-bottom';
        container.appendChild(checkbox);

        // Create label for checkbox
        const label = document.createElement('label');
        label.htmlFor = checkbox.id;
        label.textContent = "Going?";
        container.appendChild(label);

        // Add line break after each guest input
        container.appendChild(document.createElement('br'));
      }
    }
  </script>
</body>

</html>
